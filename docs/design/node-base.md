# Node base editor v2

# **Node Image Editor - é¡¹ç›®è¯´æ˜æ–‡æ¡£**

## **ä¸€ã€äº§å“æ¦‚è¿°**

| é¡¹ç›® | å†…å®¹ |
| --- | --- |
| **äº§å“åç§°** | Node Image Editorï¼ˆæš‚å®šï¼‰ |
| **äº§å“å®šä½** | é¢å‘ä¸“ä¸šè®¾è®¡å¸ˆå’Œå¼€å‘è€…çš„ Node Base éç ´åæ€§å›¾ç‰‡ç¼–è¾‘å™¨ |
| **æ ¸å¿ƒç†å¿µ** | é€šè¿‡èŠ‚ç‚¹è¿çº¿æ„å»ºå›¾åƒå¤„ç†ç®¡çº¿ï¼Œæ‰€æœ‰æ“ä½œå¯è¿½æº¯ã€å¯è°ƒæ•´ã€å¯å¤ç”¨ |
| **ç›®æ ‡ç”¨æˆ·** | ä¸“ä¸šè®¾è®¡å¸ˆã€å¼€å‘è€…/æŠ€æœ¯äººå‘˜ |
| **å¹³å°** | å…¨å¹³å°ï¼šWebã€Windowsã€macOSã€Linuxã€Androidã€iOS |
| **P1 æ ¸å¿ƒ** | éç ´åæ€§å›¾åƒç¼–è¾‘/å¤„ç†ç®¡çº¿ |
| **P2 è§„åˆ’** | AI å›¾åƒå·¥ä½œæµã€èŠ‚ç‚¹å¸‚åœº/ç¤¾åŒºã€è´¦å·ä½“ç³»ä¸äº‘åŒæ­¥ |

## **äºŒã€äº§å“åŠŸèƒ½éœ€æ±‚**

### **2.1 ç•Œé¢å¸ƒå±€**

**æ¡Œé¢ç«¯/Webç«¯ï¼š**

```scss
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   é¡¶éƒ¨å·¥å…·æ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      â”‚                          â”‚                â”‚
â”‚ èŠ‚ç‚¹ â”‚                          â”‚    å±æ€§é¢æ¿     â”‚
â”‚ åº“   â”‚      èŠ‚ç‚¹ç”»å¸ƒ             â”‚  - èŠ‚ç‚¹åç§°    â”‚
â”‚      â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚  - å‚æ•°æ§ä»¶    â”‚
â”‚ (å·¦) â”‚                  â”‚é¢„è§ˆçª—â”‚â”‚  - ç«¯å£åˆ—è¡¨    â”‚
â”‚      â”‚                  â”‚å£    â”‚â”‚  - å°é¢„è§ˆå›¾    â”‚
â”‚      â”‚                  â”‚(å³ä¸Š)â”‚â”‚                â”‚
â”‚      â”‚                  â””â”€â”€â”€â”€â”€â”€â”˜â”‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 å†å²è®°å½•é¢æ¿ï¼ˆå¯æŠ˜å ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

**ç§»åŠ¨ç«¯ï¼š**

```scss
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     é¡¶éƒ¨å·¥å…·æ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚                     â”‚
â”‚     èŠ‚ç‚¹ç”»å¸ƒ     â”Œâ”€â”€â”â”‚
â”‚                  â”‚é¢„â”‚â”‚
â”‚                  â”‚è§ˆâ”‚â”‚
â”‚                  â””â”€â”€â”˜â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº•éƒ¨æŠ½å±‰ï¼ˆå±æ€§é¢æ¿ï¼‰ â”‚
â”‚  ä¸Šæ»‘å±•å¼€            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
èŠ‚ç‚¹åº“ï¼šé€šè¿‡é¡¶éƒ¨/åº•éƒ¨æŒ‰é’®è§¦å‘æµ®å±‚

```

### **2.2 UI é£æ ¼**

- æ·±è‰²ä¸»é¢˜ä¸ºä¸»
- å‚è€ƒæ–¹å‘ï¼šBlender / Nuke é£æ ¼

### **2.3 èŠ‚ç‚¹ç³»ç»Ÿ**

### **2.3.1 æ•°æ®ç±»å‹ç³»ç»Ÿ**

| ç±»å‹ | è¯´æ˜ | è¿çº¿é¢œè‰² |
| --- | --- | --- |
| **Image** | å›¾åƒ/çº¹ç†ï¼ˆRGBAï¼Œæ”¯æŒ8/16/32bitï¼‰ | ğŸŸ¢ ç»¿è‰² #00b894 |
| **Mask** | è’™ç‰ˆï¼ˆå•é€šé“ç°åº¦ï¼‰ | âšª ç™½è‰² #dfe6e9 |
| **Number** | æ•°å€¼ï¼ˆæµ®ç‚¹/æ•´æ•°ï¼‰ | ğŸ”µ è“è‰² #0984e3 |
| **Color** | é¢œè‰²å€¼ï¼ˆRGBAï¼‰ | ğŸŸ¡ é»„è‰² #fdcb6e |
| **BBox** | åŒ…å›´ç›’ï¼ˆx, y, w, hï¼‰ | ğŸŸ  æ©™è‰² #e17055 |

### **2.3.2 ç±»å‹è‡ªåŠ¨è½¬æ¢è§„åˆ™**

| æºç±»å‹ â†’ ç›®æ ‡ç±»å‹ | è½¬æ¢è§„åˆ™ |
| --- | --- |
| Mask â†’ Image | ç°åº¦è’™ç‰ˆè½¬ä¸º RGBA ç°åº¦å›¾ |
| Image â†’ Mask | å–äº®åº¦é€šé“æˆ–Alphaé€šé“ |
| Number â†’ Color | æ•°å€¼å¡«å……åˆ° RGBA å››é€šé“ |
| Color â†’ Number | å–äº®åº¦å€¼ |
| BBox â†’ Mask | BBox åŒºåŸŸå†…ç™½è‰²ï¼Œå¤–éƒ¨é»‘è‰² |

### **2.3.3 è¿çº¿è§„åˆ™**

| è§„åˆ™ | è¯´æ˜ |
| --- | --- |
| ä¸€å¯¹å¤š | âœ… ä¸€ä¸ªè¾“å‡ºç«¯å£å¯è¿æ¥å¤šä¸ªè¾“å…¥ç«¯å£ |
| å¤šå¯¹ä¸€ | âŒ ä¸€ä¸ªè¾“å…¥ç«¯å£åªæ¥å—ä¸€æ ¹è¿çº¿ |
| ç±»å‹æ ¡éªŒ | ä¸å…¼å®¹ç±»å‹æ— æ³•è¿æ¥ï¼ˆæ— è‡ªåŠ¨è½¬æ¢è·¯å¾„æ—¶ï¼‰ |
| æ–­å¼€æ–¹å¼ | é€‰ä¸­è¿çº¿æŒ‰ Delete é”®ï¼Œæˆ–ç‚¹å‡»è¿çº¿ä¸Šçš„åˆ é™¤æŒ‰é’® |
| ç¯è·¯æ£€æµ‹ | ç¦æ­¢å½¢æˆå¾ªç¯è¿æ¥ |

### **2.3.4 æ‰§è¡Œæ¨¡å¼**

- **å®æ—¶é¢„è§ˆ**ï¼šå‚æ•°å˜æ›´åè‡ªåŠ¨é‡æ–°è®¡ç®—ä¸‹æ¸¸èŠ‚ç‚¹
- **é¢„è§ˆç­–ç•¥**ï¼šä½¿ç”¨ç”¨æˆ·é…ç½®çš„é¢„è§ˆåˆ†è¾¨ç‡ï¼ˆ720/1080/2Kï¼‰å®æ—¶è®¡ç®—
- **å¯¼å‡ºæ—¶**ï¼šå…¨åˆ†è¾¨ç‡æ¸²æŸ“å®Œæ•´ç®¡çº¿

### **2.3.5 ç®¡çº¿èƒ½åŠ›**

| èƒ½åŠ› | æ”¯æŒ |
| --- | --- |
| å¤šè¾“å…¥å›¾ç‰‡ | âœ… |
| ç®¡çº¿åˆ†æ”¯ | âœ… ä¸€ä¸ªèŠ‚ç‚¹è¾“å‡ºå¯èµ°å¤šæ¡è·¯å¾„ |
| å¤šè¾“å‡ºèŠ‚ç‚¹ | âœ… ä¸€ä¸ªå·¥ä½œæµå¯æœ‰å¤šä¸ªå¯¼å‡ºèŠ‚ç‚¹ |
| èŠ‚ç‚¹ä¸Šé™ | å•å·¥ä½œæµæœ€å¤š 99 ä¸ªèŠ‚ç‚¹ |

### **2.4 èŠ‚ç‚¹åº“**

### **2.4.1 è¾“å…¥ç±»ï¼ˆinputï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| å›¾ç‰‡å¯¼å…¥ | ä»æœ¬åœ°å¯¼å…¥ PNG/JPEG/WebP |
| çº¯è‰²å¡«å…… | ç”ŸæˆæŒ‡å®šé¢œè‰²çš„çº¯è‰²å›¾åƒ |
| å™ªå£°ç”Ÿæˆ | Perlinå™ªå£°ã€éšæœºå™ªå£°ç­‰ç¨‹åºåŒ–çº¹ç† |

### **2.4.2 è°ƒæ•´ç±»ï¼ˆadjustï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| äº®åº¦/å¯¹æ¯”åº¦ | åŸºç¡€äº®åº¦å¯¹æ¯”åº¦è°ƒèŠ‚ |
| è‰²é˜¶ | è¾“å…¥/è¾“å‡ºè‰²é˜¶è°ƒèŠ‚ |
| æ›²çº¿ | RGB/å•é€šé“æ›²çº¿è°ƒèŠ‚ |
| HSLè°ƒæ•´ | è‰²ç›¸/é¥±å’Œåº¦/æ˜åº¦ |
| è‰²å½©å¹³è¡¡ | é˜´å½±/ä¸­é—´è°ƒ/é«˜å…‰è‰²å½©åç§» |
| ç™½å¹³è¡¡ | è‰²æ¸©/è‰²è°ƒè°ƒèŠ‚ |

### **2.4.3 æ»¤é•œç±»ï¼ˆfilterï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| é«˜æ–¯æ¨¡ç³Š | å¯è°ƒåŠå¾„çš„é«˜æ–¯æ¨¡ç³Š |
| é”åŒ– | USMé”åŒ– |
| é™å™ª | åŸºç¡€é™å™ª |
| é£æ ¼åŒ– | æµ®é›•ã€è¾¹ç¼˜æ£€æµ‹ç­‰ |

### **2.4.4 å˜æ¢ç±»ï¼ˆtransformï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| è£å‰ª | æŒ‰BBoxæˆ–å‚æ•°è£å‰ª |
| ç¼©æ”¾ | æŒ‰æ¯”ä¾‹/å°ºå¯¸ç¼©æ”¾ |
| æ—‹è½¬ | ä»»æ„è§’åº¦æ—‹è½¬ |
| ç¿»è½¬ | æ°´å¹³/å‚ç›´ç¿»è½¬ |
| é€è§†å˜æ¢ | å››ç‚¹é€è§†å˜å½¢ |

### **2.4.5 åˆæˆç±»ï¼ˆcompositeï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| æ··åˆ | ä¸¤å¼ å›¾é€šè¿‡æ··åˆæ¨¡å¼åˆæˆï¼ˆæ­£ç‰‡å åº•/æ»¤è‰²/å åŠ ç­‰ï¼‰ |
| Alphaåˆæˆ | åŸºäºAlphaé€šé“åˆæˆ |
| è’™ç‰ˆåˆæˆ | ä½¿ç”¨Maskæ§åˆ¶æ··åˆåŒºåŸŸ |

### **2.4.6 é€šé“ç±»ï¼ˆchannelï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| é€šé“åˆ†ç¦» | å°†RGBAåˆ†ç¦»ä¸º4ä¸ªå•é€šé“è¾“å‡º |
| é€šé“åˆå¹¶ | å°†å¤šä¸ªå•é€šé“åˆå¹¶ä¸ºRGBA |
| Alphaæå– | æå–Alphaé€šé“ä¸ºMask |

### **2.4.7 è’™ç‰ˆ/é€‰åŒºç±»ï¼ˆmaskï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| é˜ˆå€¼è’™ç‰ˆ | æŒ‰äº®åº¦é˜ˆå€¼ç”Ÿæˆè’™ç‰ˆ |
| æ¸å˜è’™ç‰ˆ | çº¿æ€§/å¾„å‘æ¸å˜è’™ç‰ˆ |
| å½¢çŠ¶è’™ç‰ˆ | çŸ©å½¢/åœ†å½¢/å¤šè¾¹å½¢è’™ç‰ˆ |
| BBoxè½¬è’™ç‰ˆ | å°†BBoxè½¬ä¸ºçŸ©å½¢è’™ç‰ˆ |

### **2.4.8 æ–‡å­—ç±»ï¼ˆtextï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| æ–‡å­—æ¸²æŸ“ | å®Œæ•´æ–‡å­—æ¸²æŸ“èŠ‚ç‚¹ |

**æ–‡å­—èŠ‚ç‚¹åŠŸèƒ½æ¸…å•ï¼š**

| åŠŸèƒ½ | æ”¯æŒ |
| --- | --- |
| åŸºç¡€æ–‡å­—è¾“å…¥ | âœ… |
| å­—ä½“é€‰æ‹©ï¼ˆç³»ç»Ÿå­—ä½“/è‡ªå®šä¹‰å­—ä½“ï¼‰ | âœ… |
| å­—å· | âœ… |
| å­—ä½“é¢œè‰² | âœ… |
| æ–‡å­—å¯¹é½ï¼ˆå·¦/ä¸­/å³ï¼‰ | âœ… |
| è¡Œé—´è·/å­—é—´è· | âœ… |
| åŠ ç²—/æ–œä½“/ä¸‹åˆ’çº¿ | âœ… |
| å¤šè¡Œæ–‡æœ¬ | âœ… |
| æ–‡å­—æè¾¹ | âœ… |
| æ–‡å­—é˜´å½± | âœ… |
| æ–‡å­—æ²¿è·¯å¾„æ’åˆ— | âœ… |
| æ¸å˜è‰²æ–‡å­— | âœ… |
| ç«–æ’æ–‡å­— | âœ… |

**æ–‡å­—èŠ‚ç‚¹è¾“å‡ºæ¨¡å¼ï¼š**

- æ— å›¾åƒè¾“å…¥æ—¶ï¼šè¾“å‡ºé€æ˜èƒŒæ™¯çš„æ–‡å­—çº¹ç†ï¼ˆImageï¼‰
- æœ‰å›¾åƒè¾“å…¥æ—¶ï¼šæ–‡å­—å åŠ åœ¨èƒŒæ™¯å›¾ä¸Šè¾“å‡ºåˆæˆç»“æœ

**æ–‡å­—ä½ç½®æ§åˆ¶ï¼š**

- é€šè¿‡ x, y åæ ‡å‚æ•°æŒ‡å®šä½ç½®
- é€šè¿‡ BBox è¾“å…¥æŒ‡å®šæ–‡å­—åŒºåŸŸï¼ˆx, y, w, hï¼‰ï¼Œæ–‡å­—åœ¨æ¡†å†…æ’åˆ—
- ä¸¤ç§æ–¹å¼å‡æ”¯æŒ

### **2.4.9 è¾“å‡ºç±»ï¼ˆoutputï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| å›¾ç‰‡å¯¼å‡º | å¯¼å‡ºä¸º PNG/JPEG/WebPï¼Œå¯è®¾ç½®è´¨é‡/å‚æ•° |
| é¢„è§ˆè¾“å‡º | æ ‡è®°ä¸ºé¢„è§ˆçª—å£æ˜¾ç¤ºçš„æœ€ç»ˆè¾“å‡º |

### **2.4.10 å·¥å…·ç±»ï¼ˆutilityï¼‰**

| èŠ‚ç‚¹ | è¯´æ˜ |
| --- | --- |
| æ•°å­¦è¿ç®— | åŠ å‡ä¹˜é™¤ã€é’³åˆ¶ã€æ˜ å°„ç­‰ |
| é¢œè‰²é€‰æ‹©å™¨ | è¾“å‡ºä¸€ä¸ªColorå€¼ |
| æ³¨é‡ŠèŠ‚ç‚¹ | ä¸å‚ä¸è®¡ç®—ï¼Œä»…ç”¨äºæ ‡æ³¨è¯´æ˜ |

### **2.5 å›¾åƒå¤„ç†èƒ½åŠ›**

### **2.5.1 è‰²å½©ç©ºé—´ä¸ä½æ·±åº¦**

| é¡¹ç›® | æ”¯æŒ |
| --- | --- |
| 8bit | âœ… |
| 16bit | âœ… |
| 32bit floatï¼ˆHDRï¼‰ | âœ… |
| sRGB | âœ… |
| Linear | âœ… |
| Display P3 | âœ… |

### **2.5.2 åˆ†è¾¨ç‡é™åˆ¶**

| å¹³å° | æœ€å¤§åˆ†è¾¨ç‡ |
| --- | --- |
| ç§»åŠ¨ç«¯ | 4Kï¼ˆ3840Ã—2160ï¼‰ |
| æ¡Œé¢ç«¯/Web | æ— ä¸Šé™ï¼ˆå–å†³äºè®¾å¤‡æ€§èƒ½ï¼‰ |

### **2.6 èŠ‚ç‚¹ç¼–è¾‘å™¨äº¤äº’**

### **2.6.1 èŠ‚ç‚¹åˆ›å»º**

| æ–¹å¼ | è¯´æ˜ |
| --- | --- |
| æ‹–æ‹½ | ä»å·¦ä¾§èŠ‚ç‚¹åº“æ‹–æ‹½åˆ°ç”»å¸ƒ |
| å³é”®èœå• | ç”»å¸ƒç©ºç™½å¤„å³é”®ï¼Œå¼¹å‡ºæœç´¢èœå• |
| è¿çº¿åˆ›å»º | ä»ç«¯å£æ‹–å‡ºè¿çº¿åˆ°ç©ºç™½å¤„ï¼Œå¼¹å‡ºå…¼å®¹èŠ‚ç‚¹åˆ—è¡¨ |

### **2.6.2 ç”»å¸ƒæ“ä½œ**

| æ“ä½œ | æ¡Œé¢ç«¯ | ç§»åŠ¨ç«¯ |
| --- | --- | --- |
| ç¼©æ”¾ | é¼ æ ‡æ»šè½® | åŒæŒ‡ç¼©æ”¾ |
| å¹³ç§» | ä¸­é”®æ‹–æ‹½ / ç©ºæ ¼+æ‹–æ‹½ | åŒæŒ‡å¹³ç§» |
| æ¡†é€‰ | å·¦é”®æ‹–æ‹½ç©ºç™½åŒºåŸŸ | â€” |
| èŠ‚ç‚¹æ‹–åŠ¨ | å·¦é”®æ‹–æ‹½èŠ‚ç‚¹ | é€‰ä¸­åæ‹–åŠ¨ |
| è¿çº¿ | ä»ç«¯å£æ‹–å‡º | æ”¾å¤§è§¦æ‘¸çƒ­åŒºï¼Œä»ç«¯å£æ‹–å‡º |
| å¯¹é½/æ•´ç† | å·¥å…·æ æŒ‰é’®æˆ–å¿«æ·é”® | å·¥å…·æ æŒ‰é’® |
| å°åœ°å›¾ | ç”»å¸ƒè§’è½å¯¼èˆªç¼©ç•¥å›¾ | ç”»å¸ƒè§’è½å¯¼èˆªç¼©ç•¥å›¾ |

### **2.6.3 å¿«æ·é”®ï¼ˆæ¡Œé¢ç«¯ï¼‰**

| å¿«æ·é”® | åŠŸèƒ½ |
| --- | --- |
| Ctrl+Z | æ’¤é”€ |
| Ctrl+Shift+Z / Ctrl+Y | é‡åš |
| Delete / Backspace | åˆ é™¤é€‰ä¸­èŠ‚ç‚¹/è¿çº¿ |

### **2.7 é¢„è§ˆç³»ç»Ÿ**

### **2.7.1 ä¸»é¢„è§ˆçª—å£ï¼ˆç”»å¸ƒå³ä¸Šè§’ï¼‰**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| æ˜¾ç¤ºå†…å®¹ | æœ€ç»ˆè¾“å‡ºèŠ‚ç‚¹ï¼ˆå·¥ä½œæµæœ«ç«¯ï¼‰çš„æ¸²æŸ“ç»“æœ |
| ç¼©æ”¾ | âœ… æ”¯æŒ |
| å¹³ç§» | âœ… æ”¯æŒ |
| é¢„è§ˆåˆ†è¾¨ç‡ | ç”¨æˆ·å¯é…ç½®ï¼š720 / 1080 / 2K |
| åˆ·æ–°ç­–ç•¥ | å‚æ•°å˜æ›´åå®æ—¶åˆ·æ–° |

### **2.7.2 èŠ‚ç‚¹å°é¢„è§ˆï¼ˆå³ä¾§å±æ€§é¢æ¿ï¼‰**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| æ˜¾ç¤ºå†…å®¹ | å½“å‰é€‰ä¸­èŠ‚ç‚¹çš„è¾“å‡ºç»“æœç¼©ç•¥å›¾ |
| ä½ç½® | å³ä¾§å±æ€§é¢æ¿å†… |

### **2.8 å±æ€§é¢æ¿ï¼ˆå³ä¾§ï¼‰**

é€‰ä¸­ä¸€ä¸ªèŠ‚ç‚¹åæ˜¾ç¤ºï¼š

- èŠ‚ç‚¹åç§°/æè¿°
- æ‰€æœ‰å‚æ•°æ§ä»¶ï¼ˆæ»‘å—ã€é¢œè‰²é€‰æ‹©å™¨ã€ä¸‹æ‹‰æ¡†ç­‰ï¼‰
- è¾“å…¥/è¾“å‡ºç«¯å£åˆ—è¡¨
- è¯¥èŠ‚ç‚¹çš„å°é¢„è§ˆå›¾

### **2.9 å¤åˆèŠ‚ç‚¹ï¼ˆGroup Nodeï¼‰**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| åˆ›å»º | é€‰ä¸­å¤šä¸ªèŠ‚ç‚¹ â†’ å°è£…ä¸ºå¤åˆèŠ‚ç‚¹ |
| ç¼–è¾‘ | åŒå‡»å¤åˆèŠ‚ç‚¹è¿›å…¥å†…éƒ¨ç¼–è¾‘ |
| æš´éœ²å‚æ•° | å¯é€‰æ‹©å†…éƒ¨å“ªäº›å‚æ•°æš´éœ²åˆ°å¤–å±‚ |
| å­˜å‚¨ | å…¨å±€æ¨¡æ¿ï¼Œè·¨é¡¹ç›®å¤ç”¨ |
| åˆ†äº« | æ”¯æŒå¯¼å‡º/å¯¼å…¥å¤åˆèŠ‚ç‚¹æ–‡ä»¶ |

### **2.10 é¡¹ç›®/æ–‡ä»¶ç®¡ç†**

### **2.10.1 é¦–é¡µ**

| åŠŸèƒ½ | è¯´æ˜ |
| --- | --- |
| æ–°å»ºé¡¹ç›® | åˆ›å»ºç©ºç™½é¡¹ç›® |
| æ‰“å¼€é¡¹ç›® | æ‰“å¼€å·²æœ‰é¡¹ç›®æ–‡ä»¶å¤¹ |
| åˆ é™¤é¡¹ç›® | åˆ é™¤é¡¹ç›® |
| ç¤ºä¾‹é¡¹ç›® | é¦–æ¬¡ä½¿ç”¨æ—¶æä¾›ç¤ºä¾‹å·¥ç¨‹ |

### **2.10.2 é¡¹ç›®ç»“æ„**

```scss
my-project/
â”œâ”€â”€ project.json          # é¡¹ç›®å…ƒä¿¡æ¯
â”œâ”€â”€ workflow.json         # èŠ‚ç‚¹å›¾ï¼ˆèŠ‚ç‚¹ã€è¿çº¿ã€å‚æ•°ã€å¸ƒå±€ï¼‰
â”œâ”€â”€ assets/               # å¯¼å…¥çš„ç´ æå›¾ç‰‡
â”‚   â”œâ”€â”€ photo1.png
â”‚   â””â”€â”€ photo2.jpg
â””â”€â”€ output/               # å¯¼å‡ºç»“æœ
    â”œâ”€â”€ result1.png
    â””â”€â”€ result2.webp

```

### **2.10.3 å¯¼å…¥/å¯¼å‡º**

| é¡¹ç›® | æ ¼å¼ |
| --- | --- |
| å¯¼å…¥å›¾ç‰‡ | PNG / JPEG / WebP |
| å¯¼å‡ºå›¾ç‰‡ | PNG / JPEG / WebP |

### **2.11 å†å²è®°å½•**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| æ’¤é”€/é‡åš | âœ… æ”¯æŒ |
| å†å²é¢æ¿ | ç±»ä¼¼ Photoshop çš„æ“ä½œå†å²åˆ—è¡¨ |
| è®°å½•ç²’åº¦ | æ¯æ¬¡èŠ‚ç‚¹æ“ä½œï¼ˆåˆ›å»º/åˆ é™¤/ç§»åŠ¨/å‚æ•°ä¿®æ”¹/è¿çº¿å˜æ›´ï¼‰ |
| è·³è½¬ | å¯ç‚¹å‡»å†å²è®°å½•ä»»æ„ä¸€æ­¥è·³è½¬åˆ°è¯¥çŠ¶æ€ |

### **2.12 é”™è¯¯å¤„ç†**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| å‡ºé”™èŠ‚ç‚¹ | æ˜¾ç¤ºçº¢è‰²è¾¹æ¡† + é”™è¯¯ä¿¡æ¯ |
| ä¸‹æ¸¸èŠ‚ç‚¹ | æ˜¾ç¤ºè­¦å‘ŠçŠ¶æ€ï¼Œå…¨éƒ¨è·³è¿‡æ‰§è¡Œ |
| æ— å…³åˆ†æ”¯ | ä¸å—å½±å“ï¼Œæ­£å¸¸æ‰§è¡Œ |

### **2.13 æ–°æ‰‹å¼•å¯¼**

| é¡¹ç›® | è¯´æ˜ |
| --- | --- |
| é¦–æ¬¡å¼•å¯¼ | é¦–æ¬¡æ‰“å¼€åº”ç”¨æ—¶å±•ç¤ºæ“ä½œå¼•å¯¼ï¼ˆæ°”æ³¡æç¤º/æ­¥éª¤å¼•å¯¼ï¼‰ |
| ç¤ºä¾‹å·¥ç¨‹ | æä¾›ä¸€ä¸ªé¢„è®¾çš„ç¤ºä¾‹å·¥ä½œæµï¼Œå±•ç¤ºæ ¸å¿ƒåŠŸèƒ½ |

### **2.14 å¤šè¯­è¨€**

| è¯­è¨€ | æ”¯æŒ |
| --- | --- |
| ä¸­æ–‡ | âœ… |
| English | âœ… |

### **2.15 å…¨å¹³å°ç­–ç•¥**

| å¹³å° | åŠŸèƒ½å®Œæ•´åº¦ | UIå®ç° |
| --- | --- | --- |
| Web | å®Œæ•´ | æ¡Œé¢ç«¯UI |
| Windows | å®Œæ•´ | æ¡Œé¢ç«¯UI |
| macOS | å®Œæ•´ | æ¡Œé¢ç«¯UI |
| Linux | å®Œæ•´ | æ¡Œé¢ç«¯UI |
| Android | å®Œæ•´ | ç§»åŠ¨ç«¯UIï¼ˆç‹¬ç«‹ä»£ç ï¼‰ |
| iOS | å®Œæ•´ | ç§»åŠ¨ç«¯UIï¼ˆç‹¬ç«‹ä»£ç ï¼‰ |
- æ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯ä½¿ç”¨**ä¸åŒçš„UIä»£ç **
- æ ¸å¿ƒå¤„ç†å¼•æ“/èŠ‚ç‚¹ç³»ç»Ÿ**å…±äº«åŒä¸€å¥—ä»£ç **
- ç§»åŠ¨ç«¯æŠ€æœ¯æ ˆï¼šKotlin

### **2.16 P2 è§„åˆ’ï¼ˆæš‚ä¸å®ç°ï¼‰**

| åŠŸèƒ½ | è¯´æ˜ |
| --- | --- |
| AI å›¾åƒå·¥ä½œæµ | æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€AIæŠ å›¾ã€è¶…åˆ†ã€ä¿®å¤ç­‰ |
| èŠ‚ç‚¹å¸‚åœº/ç¤¾åŒº | ç”¨æˆ·åˆ†äº«å’Œä¸‹è½½èŠ‚ç‚¹/å·¥ä½œæµæ¨¡æ¿ |
| è´¦å·ä½“ç³» | ç”¨æˆ·æ³¨å†Œç™»å½• |
| äº‘åŒæ­¥ | é¡¹ç›®äº‘ç«¯å­˜å‚¨ä¸è·¨è®¾å¤‡åŒæ­¥ |
| å¼€å‘è€…æ‰©å±• | è‡ªå®šä¹‰èŠ‚ç‚¹æ’ä»¶å¼€å‘ |

---

## **ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆ**

### **3.1 æŠ€æœ¯æ ˆ**

| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
| --- | --- |
| è¯­è¨€ | TypeScript |
| UIæ¡†æ¶ | React 18+ |
| èŠ‚ç‚¹ç¼–è¾‘å™¨UI | React Flow |
| çŠ¶æ€ç®¡ç† | Redux Toolkit |
| GPUæ¸²æŸ“ | WebGL 2.0ï¼ˆåŸç”Ÿå°è£…ï¼Œä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹GLåº“ï¼‰ |
| Shaderç®¡ç† | ç‹¬ç«‹ .glsl æ–‡ä»¶ï¼Œé€šè¿‡ vite-plugin-glsl å¯¼å…¥ |
| æ¡Œé¢ç«¯æ‰“åŒ… | Electron |
| å›¾åƒç¼–è§£ç  | Webç«¯: Canvas API / Electronç«¯: Sharp |
| æ ·å¼æ–¹æ¡ˆ | TailwindCSS |
| æ„å»ºå·¥å…· | Vite |
| å•å…ƒæµ‹è¯• | Vitest |
| UIè‡ªåŠ¨åŒ–æµ‹è¯• | Playwright |
| ä»£ç è§„èŒƒ | ESLint + Prettier + Husky + lint-staged + Commitlint |
| å›½é™…åŒ– | i18next + react-i18next |

### **3.2 æ•´ä½“æ¶æ„**

```scss
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React Flow (UIå±‚)                      â”‚
â”‚  ç”¨æˆ·æ“ä½œï¼šåˆ›å»ºèŠ‚ç‚¹ã€è¿çº¿ã€è°ƒå‚æ•°ã€åˆ é™¤...                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ äº‹ä»¶æ´¾å‘
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Redux Store (çŠ¶æ€å±‚)                      â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Graph State  â”‚ â”‚ UI State     â”‚ â”‚ History State     â”‚  â”‚
â”‚  â”‚ èŠ‚ç‚¹åˆ—è¡¨     â”‚ â”‚ é€‰ä¸­èŠ‚ç‚¹      â”‚ â”‚ æ“ä½œå†å²è®°å½•       â”‚  â”‚
â”‚  â”‚ è¿çº¿åˆ—è¡¨     â”‚ â”‚ ç”»å¸ƒä½ç½®/ç¼©æ”¾ â”‚ â”‚ æ’¤é”€/é‡åšæ ˆ       â”‚  â”‚
â”‚  â”‚ å‚æ•°å€¼       â”‚ â”‚ é¢æ¿å±•å¼€çŠ¶æ€   â”‚ â”‚                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ èŠ‚ç‚¹å›¾å˜æ›´é€šçŸ¥
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Execution Engine (æ‰§è¡Œå¼•æ“)                  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Topology Sorter  â”‚  â”‚ Dirty Trackerâ”‚  â”‚ Scheduler   â”‚  â”‚
â”‚  â”‚ æ‹“æ‰‘æ’åº         â”‚  â”‚ è„èŠ‚ç‚¹è¿½è¸ª    â”‚  â”‚ æ‰§è¡Œè°ƒåº¦     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â–¼                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚ Node Registry    â”‚                   â”‚
â”‚                    â”‚ èŠ‚ç‚¹ç±»å‹æ³¨å†Œè¡¨    â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ è°ƒç”¨å¤„ç†å‡½æ•°
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GPU Pipeline (GPUæ¸²æŸ“ç®¡çº¿)                     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Texture Pool  â”‚  â”‚ Shader Managerâ”‚  â”‚ Framebuffer   â”‚  â”‚
â”‚  â”‚ çº¹ç†èµ„æºæ±     â”‚  â”‚ Shaderç®¡ç†å™¨   â”‚  â”‚ Manager       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

### **3.3 æ‰§è¡Œå¼•æ“è®¾è®¡**

### **3.3.1 æ ¸å¿ƒå†³ç­–**

| å†³ç­–é¡¹ | æ–¹æ¡ˆ |
| --- | --- |
| å¼•æ“ä¸Reduxå…³ç³» | Reduxå­˜å‚¨å®Œæ•´èŠ‚ç‚¹å›¾æ•°æ®ï¼Œå¼•æ“ä»Reduxè¯»å– |
| è„èŠ‚ç‚¹è¿½è¸ª | è„æ ‡è®° + æŒ‰éœ€è®¡ç®—ï¼ˆä¿®æ”¹èŠ‚ç‚¹æ ‡è„ï¼Œé€’å½’æ ‡è„ä¸‹æ¸¸ï¼Œåªé‡ç®—è„èŠ‚ç‚¹ï¼‰ |
| æ‰§è¡Œè°ƒåº¦ | å¼‚æ­¥ + 100msé˜²æŠ– |

### **3.3.2 æ‰§è¡Œæµç¨‹**

```scss
ç”¨æˆ·ä¿®æ”¹èŠ‚ç‚¹å‚æ•° / æ–°å¢è¿çº¿ / åˆ é™¤èŠ‚ç‚¹
           â”‚
           â–¼
    Redux Dispatch Action
           â”‚
           â–¼
    Redux Store æ›´æ–°èŠ‚ç‚¹å›¾æ•°æ®
           â”‚
           â–¼
    Engine Listener ç›‘å¬åˆ°å˜æ›´
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  1. æ ‡è®°è„èŠ‚ç‚¹     â”‚
    â”‚  - å˜æ›´çš„èŠ‚ç‚¹æ ‡è„   â”‚
    â”‚  - é€’å½’æ ‡è„ä¸‹æ¸¸èŠ‚ç‚¹  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  2. é˜²æŠ–ç­‰å¾…       â”‚
    â”‚  - 100mså†…æ— æ–°å˜æ›´  â”‚
    â”‚  - æ‰è§¦å‘æ‰§è¡Œ       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  3. æ‹“æ‰‘æ’åº       â”‚
    â”‚  - å¯¹æ‰€æœ‰è„èŠ‚ç‚¹     â”‚
    â”‚  - æŒ‰ä¾èµ–å…³ç³»æ’åº   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  4. é¡ºåºæ‰§è¡Œ       â”‚
    â”‚  - æŒ‰æ‹“æ‰‘é¡ºåºé€ä¸ª   â”‚
    â”‚    æ‰§è¡Œè„èŠ‚ç‚¹       â”‚
    â”‚  - æ”¶é›†è¾“å…¥æ•°æ®     â”‚
    â”‚  - è°ƒç”¨executeå‡½æ•°  â”‚
    â”‚  - å­˜å‚¨è¾“å‡ºç»“æœ     â”‚
    â”‚  - æ¸…é™¤è„æ ‡è®°       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  5. æ›´æ–°é¢„è§ˆ       â”‚
    â”‚  - æ‰¾åˆ°é¢„è§ˆè¾“å‡ºèŠ‚ç‚¹  â”‚
    â”‚  - å°†çº¹ç†æ¸²æŸ“åˆ°     â”‚
    â”‚    é¢„è§ˆCanvas       â”‚
    â”‚  - æ›´æ–°å±æ€§é¢æ¿     â”‚
    â”‚    å°é¢„è§ˆå›¾         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **3.4 GPUæ¸²æŸ“ç®¡çº¿è®¾è®¡**

### **3.4.1 æ¸²æŸ“æ¶æ„**

- ä½¿ç”¨**åŸç”ŸWebGL 2.0 API**å°è£…ï¼Œä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹GLåº“
- Shaderæ–‡ä»¶ä¸ºç‹¬ç«‹ .glsl/.vert/.frag æ–‡ä»¶ï¼Œé€šè¿‡ vite-plugin-glsl å¯¼å…¥

### **3.4.2 Canvasç­–ç•¥**

```scss
Canvas 1 (ç¦»å±ï¼Œä¸åœ¨DOMä¸­):         Canvas 2 (å¯è§ï¼Œåœ¨é¢„è§ˆçª—å£ä¸­):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebGL2 Context        â”‚          â”‚ 2D Context           â”‚
â”‚ æ‰€æœ‰èŠ‚ç‚¹GPUè®¡ç®—        â”‚  â”€â”€â”€â”€â”€â”€â†’ â”‚ æ˜¾ç¤ºæœ€ç»ˆç»“æœ          â”‚
â”‚ Framebufferç¦»å±æ¸²æŸ“    â”‚ æ‹·è´æ•°æ® â”‚ ç¼©æ”¾/å¹³ç§»æŸ¥çœ‹         â”‚
â”‚ ç”¨æˆ·ä¸å¯è§            â”‚          â”‚ åµŒå…¥Reactç»„ä»¶         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3.4.3 å•ä¸ªèŠ‚ç‚¹GPUæ‰§è¡Œæµç¨‹**

1. ç»‘å®šä¸€ä¸ª Framebufferï¼ˆç¦»å±æ¸²æŸ“ç›®æ ‡ï¼‰
2. é™„åŠ è¾“å‡ºçº¹ç†åˆ° Framebuffer
3. ç»‘å®šè¾“å…¥çº¹ç†åˆ°çº¹ç†å•å…ƒ
4. ä½¿ç”¨å¯¹åº”çš„ Shader ç¨‹åº
5. è®¾ç½® Uniformsï¼ˆå‚æ•°ï¼‰
6. ç»˜åˆ¶ä¸€ä¸ªå…¨å±å››è¾¹å½¢ï¼ˆè§¦å‘ç‰‡å…ƒç€è‰²å™¨å¤„ç†æ¯ä¸ªåƒç´ ï¼‰
7. è¾“å‡ºå†™å…¥çº¹ç†

### **3.4.4 GPUContext**

- **æ¯ä¸ªå·¥ä½œæµä¸€ä¸ªå®ä¾‹**ï¼ˆéå…¨å±€å•ä¾‹ï¼‰

### **3.4.5 çº¹ç†ç®¡ç†**

- ä½¿ç”¨çº¹ç†èµ„æºæ± ï¼ˆTextureManagerï¼‰ï¼Œæ”¯æŒçº¹ç†å¤ç”¨
- çº¹ç†æ± è®¾æœ‰**ä¸Šé™**ï¼Œé¿å…OOM
- èŠ‚ç‚¹é‡æ–°è®¡ç®—å‰é‡Šæ”¾æ—§è¾“å‡ºçº¹ç†å›æ± ä¸­
- èŠ‚ç‚¹è¢«åˆ é™¤æ—¶æ¸…ç†å…¶æ‰€æœ‰çº¹ç†

### **3.4.6 çº¹ç†å°ºå¯¸ç­–ç•¥**

- é»˜è®¤ï¼šè¾“å‡ºå°ºå¯¸ = ç¬¬ä¸€ä¸ªImageè¾“å…¥çš„å°ºå¯¸
- ç‰¹æ®ŠèŠ‚ç‚¹ï¼ˆè£å‰ª/ç¼©æ”¾/æ—‹è½¬ç­‰ï¼‰é€šè¿‡è¦†å†™Â `getOutputSize()`Â è‡ªå®šä¹‰è¾“å‡ºå°ºå¯¸

### **3.5 èŠ‚ç‚¹æ•°æ®ä¼ é€’æ–¹å¼**

**éçº¹ç†æ•°æ®ï¼ˆNumber/Color/BBoxï¼‰åœ¨CPUä¾§ä¼ é€’ï¼Œä¸ç»è¿‡GPUï¼š**

```tsx
type NodeOutput =
  | { type: 'image'; texture: WebGLTexture; width: number; height: number }
  | { type: 'mask'; texture: WebGLTexture; width: number; height: number }
  | { type: 'number'; value: number }
  | { type: 'color'; value: { r: number; g: number; b: number; a: number } }
  | { type: 'bbox'; value: { x: number; y: number; w: number; h: number } };

```

Image/Mask ç±»å‹é€šè¿‡ GPU çº¹ç†ä¼ é€’ï¼ŒNumber/Color/BBox ä½œä¸ºæ™®é€š JS å¯¹è±¡åœ¨ CPU ä¾§ä¼ é€’ï¼Œåœ¨éœ€è¦æ—¶ä½œä¸º Uniform ä¼ å…¥ Shaderã€‚

### **3.6 èŠ‚ç‚¹æ³¨å†Œç³»ç»Ÿ**

### **3.6.1 èŠ‚ç‚¹ç±»å‹å®šä¹‰ç»“æ„**

```tsx
type DataType = 'image' | 'mask' | 'number' | 'color' | 'bbox';

type ParamDefinition =
  | {
      key: string;
      label: string;  // i18n key
      type: 'slider';
      min: number;
      max: number;
      step: number;
      default: number;
    }
  | {
      key: string;
      label: string;
      type: 'select';
      options: { label: string; value: string }[];
      default: string;
    }
  | {
      key: string;
      label: string;
      type: 'color';
      default: { r: number; g: number; b: number; a: number };
    }
  | {
      key: string;
      label: string;
      type: 'checkbox';
      default: boolean;
    }
  | {
      key: string;
      label: string;
      type: 'number';
      min?: number;
      max?: number;
      default: number;
    };

interface PortDefinition {
  key: string;
  label: string;        // i18n key
  dataType: DataType;
  required?: boolean;    // é»˜è®¤ true
}

interface NodeTypeDefinition {
  type: string;                     // å”¯ä¸€æ ‡è¯†
  label: string;                    // i18n key
  category: string;
  description?: string;             // i18n key

  inputs: PortDefinition[];
  outputs: PortDefinition[];
  params: ParamDefinition[];

  getOutputSize?: (
    inputs: Record<string, NodeOutput>,
    params: Record<string, any>
  ) => { width: number; height: number };

  execute: (context: {
    inputs: Record<string, NodeOutput>;
    params: Record<string, any>;
    gpu: GPUContext;
    outputSize: { width: number; height: number };
  }) => Record<string, NodeOutput>;
}

```

**3.6.2 èŠ‚ç‚¹æ³¨å†Œç¤ºä¾‹**

```tsx
const BrightnessContrastNode: NodeTypeDefinition = {
  type: 'brightness_contrast',
  label: 'node.brightness_contrast.label',
  category: 'adjust',
  description: 'node.brightness_contrast.description',

  inputs: [
    { key: 'image', label: 'node.common.image', dataType: 'image' },
    { key: 'mask', label: 'node.common.mask', dataType: 'mask', required: false },
  ],

  outputs: [
    { key: 'image', label: 'node.common.image', dataType: 'image' },
  ],

  params: [
    { key: 'brightness', label: 'node.brightness_contrast.brightness', type: 'slider', min: -1, max: 1, step: 0.01, default: 0 },
    { key: 'contrast', label: 'node.brightness_contrast.contrast', type: 'slider', min: 0, max: 3, step: 0.01, default: 1 },
  ],

  execute: ({ inputs, params, gpu, outputSize }) => {
    const outputTexture = gpu.renderShader('brightness_contrast', {
      u_input: inputs.image.texture,
      u_mask: inputs.mask?.texture ?? null,
      u_brightness: params.brightness,
      u_contrast: params.contrast,
    }, outputSize);

    return {
      image: {
        type: 'image',
        texture: outputTexture,
        width: outputSize.width,
        height: outputSize.height,
      },
    };
  },
};

```

**3.6.3 èŠ‚ç‚¹æ³¨å†Œè¡¨**

```tsx
class NodeRegistry {
  private definitions: Map<string, NodeTypeDefinition> = new Map();

  register(definition: NodeTypeDefinition): void;
  get(type: string): NodeTypeDefinition | undefined;
  getByCategory(category: string): NodeTypeDefinition[];
  getAllCategories(): string[];
}

```

**3.7 å›¾åƒç¼–è§£ç æŠ½è±¡å±‚**

```tsx
interface ImageCodec {
  decode(file: File | ArrayBuffer): Promise<{
    data: Uint8Array | Float32Array;
    width: number;
    height: number;
    channels: number;
    bitDepth: number;
  }>;

  encode(
    pixels: Uint8Array | Float32Array,
    width: number,
    height: number,
    format: 'png' | 'jpeg' | 'webp',
    options?: { quality?: number }
  ): Promise<Blob | Buffer>;
}

```

| å¹³å° | å®ç° |
| --- | --- |
| Webç«¯ | BrowserCodecï¼ˆCanvas APIï¼Œ8bit sRGBï¼‰ |
| Electronç«¯ | ElectronCodecï¼ˆSharp/libvipsï¼Œæ”¯æŒ8/16/32bitå…¨è‰²å½©ç©ºé—´ï¼‰ |

**3.8 GPU Context å°è£…**

```tsx
class GPUContext {
  private gl: WebGL2RenderingContext;
  private shaderManager: ShaderManager;
  private textureManager: TextureManager;
  private framebuffer: WebGLFramebuffer;

  constructor(canvas: HTMLCanvasElement);

  renderShader(
    shaderName: string,
    uniforms: Record<string, any>,
    outputSize: { width: number; height: number }
  ): WebGLTexture;

  readPixels(
    texture: WebGLTexture,
    width: number,
    height: number
  ): Uint8Array | Float32Array;

  uploadTexture(
    imageData: ImageData | HTMLImageElement
  ): WebGLTexture;
}

```

**å››ã€é¡¹ç›®ç›®å½•ç»“æ„**

```scss
node-image-editor/
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tsconfig.node.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ .eslintrc.cjs
â”œâ”€â”€ .prettierrc
â”œâ”€â”€ .prettierignore
â”œâ”€â”€ .lintstagedrc
â”œâ”€â”€ commitlint.config.js
â”œâ”€â”€ playwright.config.ts
â”œâ”€â”€ index.html
â”‚
â”œâ”€â”€ .husky/
â”‚   â”œâ”€â”€ pre-commit
â”‚   â””â”€â”€ commit-msg
â”‚
â”œâ”€â”€ electron/                          # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ main.ts
â”‚   â”œâ”€â”€ preload.ts
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ sharp-codec.ts
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.tsx                       # React å…¥å£
â”‚   â”œâ”€â”€ App.tsx                        # æ ¹ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                          # ========== æ ¸å¿ƒå¼•æ“ï¼ˆUIæ— å…³ï¼‰ ==========
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ engine/                    # æ‰§è¡Œå¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ ExecutionEngine.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ TopologySorter.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ DirtyTracker.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Scheduler.ts
â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ gpu/                       # GPUæ¸²æŸ“ç®¡çº¿
â”‚   â”‚   â”‚   â”œâ”€â”€ GPUContext.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ShaderManager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ TextureManager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ FramebufferManager.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ nodes/                     # èŠ‚ç‚¹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeRegistry.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImageImportNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SolidColorNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NoiseGeneratorNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ adjust/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BrightnessContrastNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LevelsNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CurvesNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HSLNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ColorBalanceNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WhiteBalanceNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ filter/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GaussianBlurNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SharpenNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DenoiseNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StylizeNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ transform/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CropNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ResizeNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RotateNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FlipNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PerspectiveNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ composite/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BlendNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AlphaCompositeNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MaskCompositeNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ channel/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelSplitNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelMergeNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AlphaExtractNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ mask/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ThresholdMaskNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GradientMaskNode.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ShapeMaskNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BBoxToMaskNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ text/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TextRenderNode.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ output/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImageExportNode.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PreviewOutputNode.ts
â”‚   â”‚   â”‚   â””â”€â”€ utility/
â”‚   â”‚   â”‚       â”œâ”€â”€ MathNode.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ColorPickerNode.ts
â”‚   â”‚   â”‚       â””â”€â”€ CommentNode.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ codec/                     # å›¾åƒç¼–è§£ç æŠ½è±¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageCodec.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ BrowserCodec.ts
â”‚   â”‚   â”‚   â””â”€â”€ ElectronCodec.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ graph/                     # èŠ‚ç‚¹å›¾æ•°æ®ç»“æ„
â”‚   â”‚       â”œâ”€â”€ GraphTypes.ts
â”‚   â”‚       â”œâ”€â”€ GraphValidator.ts
â”‚   â”‚       â””â”€â”€ TypeConverter.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                         # ========== Redux çŠ¶æ€ç®¡ç† ==========
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ graphSlice.ts
â”‚   â”‚   â”œâ”€â”€ uiSlice.ts
â”‚   â”‚   â”œâ”€â”€ historySlice.ts
â”‚   â”‚   â”œâ”€â”€ projectSlice.ts
â”‚   â”‚   â”œâ”€â”€ settingsSlice.ts
â”‚   â”‚   â””â”€â”€ middleware/
â”‚   â”‚       â””â”€â”€ historyMiddleware.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                    # ========== UI ç»„ä»¶ ==========
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TopToolbar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StatusBar.tsx
â”‚   â”‚   â”œâ”€â”€ node-library/
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeLibrary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeCategory.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeItem.tsx
â”‚   â”‚   â”‚   â””â”€â”€ NodeSearch.tsx
â”‚   â”‚   â”œâ”€â”€ canvas/
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeCanvas.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomNode.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomEdge.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomPort.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ContextMenu.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MiniMap.tsx
â”‚   â”‚   â”œâ”€â”€ preview/
â”‚   â”‚   â”‚   â”œâ”€â”€ PreviewPanel.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PreviewCanvas.tsx
â”‚   â”‚   â”œâ”€â”€ properties/
â”‚   â”‚   â”‚   â”œâ”€â”€ PropertiesPanel.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeHeader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodePreview.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PortList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ params/
â”‚   â”‚   â”‚       â”œâ”€â”€ SliderParam.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ SelectParam.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ColorParam.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ CheckboxParam.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ NumberParam.tsx
â”‚   â”‚   â”‚       â””â”€â”€ TextParam.tsx
â”‚   â”‚   â”œâ”€â”€ history/
â”‚   â”‚   â”‚   â””â”€â”€ HistoryPanel.tsx
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectHome.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ NewProjectDialog.tsx
â”‚   â”‚   â”œâ”€â”€ guide/
â”‚   â”‚   â”‚   â””â”€â”€ OnboardingGuide.tsx
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚       â”œâ”€â”€ Dialog.tsx
â”‚   â”‚       â”œâ”€â”€ Tooltip.tsx
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                         # ========== è‡ªå®šä¹‰Hooks ==========
â”‚   â”‚   â”œâ”€â”€ useEngine.ts
â”‚   â”‚   â”œâ”€â”€ useNodeDrag.ts
â”‚   â”‚   â”œâ”€â”€ useKeyboard.ts
â”‚   â”‚   â”œâ”€â”€ usePreview.ts
â”‚   â”‚   â””â”€â”€ useProject.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ i18n/                          # ========== å›½é™…åŒ– ==========
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ en.json
â”‚   â”‚   â””â”€â”€ zh.json
â”‚   â”‚
â”‚   â”œâ”€â”€ shaders/                       # ========== GLSL Shader æ–‡ä»¶ ==========
â”‚   â”‚   â”œâ”€â”€ glsl.d.ts                  # ç±»å‹å£°æ˜
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ fullscreen.vert
â”‚   â”‚   â”‚   â””â”€â”€ color_utils.glsl
â”‚   â”‚   â”œâ”€â”€ adjust/
â”‚   â”‚   â”‚   â”œâ”€â”€ brightness_contrast.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ levels.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ curves.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ hsl.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ color_balance.frag
â”‚   â”‚   â”‚   â””â”€â”€ white_balance.frag
â”‚   â”‚   â”œâ”€â”€ filter/
â”‚   â”‚   â”‚   â”œâ”€â”€ gaussian_blur.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ sharpen.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ denoise.frag
â”‚   â”‚   â”‚   â””â”€â”€ stylize.frag
â”‚   â”‚   â”œâ”€â”€ transform/
â”‚   â”‚   â”‚   â”œâ”€â”€ crop.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ resize.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ rotate.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ flip.frag
â”‚   â”‚   â”‚   â””â”€â”€ perspective.frag
â”‚   â”‚   â”œâ”€â”€ composite/
â”‚   â”‚   â”‚   â”œâ”€â”€ blend.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ alpha_composite.frag
â”‚   â”‚   â”‚   â””â”€â”€ mask_composite.frag
â”‚   â”‚   â”œâ”€â”€ channel/
â”‚   â”‚   â”‚   â”œâ”€â”€ channel_split.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ channel_merge.frag
â”‚   â”‚   â”‚   â””â”€â”€ alpha_extract.frag
â”‚   â”‚   â”œâ”€â”€ mask/
â”‚   â”‚   â”‚   â”œâ”€â”€ threshold.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ gradient.frag
â”‚   â”‚   â”‚   â”œâ”€â”€ shape.frag
â”‚   â”‚   â”‚   â””â”€â”€ bbox_to_mask.frag
â”‚   â”‚   â””â”€â”€ output/
â”‚   â”‚       â””â”€â”€ preview.frag
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                         # ========== å·¥å…·å‡½æ•° ==========
â”‚   â”‚   â”œâ”€â”€ hash.ts
â”‚   â”‚   â”œâ”€â”€ debounce.ts
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â””â”€â”€ platform.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                        # ========== æ ·å¼ ==========
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ theme.css
â”‚   â”‚   â””â”€â”€ reactflow-overrides.css
â”‚   â”‚
â”‚   â””â”€â”€ test/                          # ========== æµ‹è¯•é…ç½® ==========
â”‚       â””â”€â”€ setup.ts
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ demo-project/
â”‚
â”œâ”€â”€ e2e/                               # ========== E2Eæµ‹è¯• ==========
â”‚   â””â”€â”€ example.spec.ts
â”‚
â””â”€â”€ tests/                             # ========== å•å…ƒæµ‹è¯• ==========
    â”œâ”€â”€ engine/
    â”‚   â”œâ”€â”€ TopologySorter.test.ts
    â”‚   â”œâ”€â”€ DirtyTracker.test.ts
    â”‚   â””â”€â”€ ExecutionEngine.test.ts
    â”œâ”€â”€ nodes/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ graph/
        â”œâ”€â”€ GraphValidator.test.ts
        â””â”€â”€ TypeConverter.test.ts

```

**äº”ã€å¼€å‘é˜¶æ®µè®¡åˆ’**

| é˜¶æ®µ | å†…å®¹ | ç›®æ ‡ |
| --- | --- | --- |
| **Phase 0** | å·¥ç¨‹åŒ–æ­å»º | é¡¹ç›®è„šæ‰‹æ¶ã€æ‰€æœ‰å·¥å…·é“¾é…ç½®å®Œæˆ |
| **Phase 1** | æ ¸å¿ƒç±»å‹ + GPUç®¡çº¿ | èƒ½åœ¨Canvasä¸Šç”¨Shaderå¤„ç†ä¸€å¼ å›¾ç‰‡ |
| **Phase 2** | Redux Store + æ‰§è¡Œå¼•æ“ | èŠ‚ç‚¹å›¾æ•°æ®æµè·‘é€šï¼Œèƒ½æŒ‰æ‹“æ‰‘é¡ºåºæ‰§è¡Œ |
| **Phase 3** | èŠ‚ç‚¹æ³¨å†Œç³»ç»Ÿ + é¦–æ‰¹èŠ‚ç‚¹ | å®ç°5-6ä¸ªåŸºç¡€èŠ‚ç‚¹ï¼ˆå¯¼å…¥ã€äº®åº¦å¯¹æ¯”åº¦ã€æ¨¡ç³Šã€æ··åˆã€å¯¼å‡ºã€é¢„è§ˆï¼‰ |
| **Phase 4** | UIç»„ä»¶å±‚ | React Flowç”»å¸ƒã€èŠ‚ç‚¹åº“ã€å±æ€§é¢æ¿ã€é¢„è§ˆçª—å£å…¨éƒ¨ä¸²è” |
| **Phase 5** | ç«¯åˆ°ç«¯è”è°ƒ | ç”¨æˆ·èƒ½å®Œæ•´åœ°ï¼šå¯¼å…¥å›¾ç‰‡â†’åŠ èŠ‚ç‚¹â†’è°ƒå‚æ•°â†’å®æ—¶é¢„è§ˆâ†’å¯¼å‡º |
| **Phase 6** | è¡¥å…¨æ‰€æœ‰èŠ‚ç‚¹ | å®ç°å‰©ä½™æ‰€æœ‰èŠ‚ç‚¹ç±»å‹ |
| **Phase 7** | é¡¹ç›®ç®¡ç† | é¦–é¡µã€æ–°å»º/æ‰“å¼€/ä¿å­˜/åˆ é™¤é¡¹ç›® |
| **Phase 8** | å†å²è®°å½• | æ’¤é”€/é‡åšã€å†å²é¢æ¿ |
| **Phase 9** | å¤åˆèŠ‚ç‚¹ | Group Nodeå°è£…/ç¼–è¾‘/å¯¼å…¥å¯¼å‡º |
| **Phase 10** | å›¾åƒç¼–è§£ç å±‚ | Sharpé›†æˆã€å¤šæ ¼å¼å¯¼å…¥å¯¼å‡º |
| **Phase 11** | Electronæ‰“åŒ… | æ¡Œé¢ç«¯æ‰“åŒ…å‘å¸ƒ |
| **Phase 12** | å¤šè¯­è¨€ + æ–°æ‰‹å¼•å¯¼ | i18nã€Onboardingã€ç¤ºä¾‹å·¥ç¨‹ |
| **Phase 13** | å…¨é¢æµ‹è¯• | å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰ã€UIè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆPlaywrightï¼‰ |