# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“‚ ç›®å½•ç»„ç»‡åŸåˆ™

### æ ¹ç›®å½•æ–‡ä»¶ï¼ˆä¿æŒç®€æ´ï¼‰
ä»…ä¿ç•™æ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œå…¥å£æ–‡ä»¶ï¼š
- `package.json` - é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
- `tsconfig.json` - TypeScript é…ç½®
- `vite.config.ts` - Vite æ„å»ºé…ç½®
- `index.html` - HTML å…¥å£
- `README.md` - é¡¹ç›®è¯´æ˜
- å…¶ä»–é…ç½®æ–‡ä»¶ï¼ˆ`.eslintrc.cjs`, `tailwind.config.js` ç­‰ï¼‰

### docs/ - æ–‡æ¡£ç›®å½•
```
docs/
â”œâ”€â”€ design/              # è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ node-base.md    # äº§å“è®¾è®¡æ–‡æ¡£ï¼ˆ1000+ è¡Œï¼‰
â”‚
â””â”€â”€ test-reports/        # æµ‹è¯•æŠ¥å‘Š
    â”œâ”€â”€ TEST_CASES.md              # æµ‹è¯•ç”¨ä¾‹é›†åˆ
    â”œâ”€â”€ TEST_RECORD.md             # æµ‹è¯•è®°å½•
    â”œâ”€â”€ TEST_RESULT_ADJUST.md      # è°ƒæ•´èŠ‚ç‚¹æµ‹è¯•ç»“æœ
    â”œâ”€â”€ TEST_RESULT_INPUT.md       # è¾“å…¥èŠ‚ç‚¹æµ‹è¯•ç»“æœ
    â”œâ”€â”€ test-report.md             # æ€»ä½“æµ‹è¯•æŠ¥å‘Š
    â””â”€â”€ EDGE_SELECTION_TEST.md     # è¾¹é€‰ä¸­åŠŸèƒ½æµ‹è¯•
```

### scripts/ - è„šæœ¬ç›®å½•
```
scripts/
â”œâ”€â”€ debug/                    # è°ƒè¯•è„šæœ¬ï¼ˆ~40 ä¸ªï¼‰
â”‚   â”œâ”€â”€ debug-*.cjs          # å„ç§è°ƒè¯•å·¥å…·
â”‚   â””â”€â”€ color-test-*.cjs     # é¢œè‰²æµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ test-helpers/             # æµ‹è¯•è¾…åŠ©è„šæœ¬ï¼ˆ~35 ä¸ªï¼‰
â”‚   â”œâ”€â”€ test-*.cjs           # å„ç§æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ check-ui*.cjs        # UI æ£€æŸ¥è„šæœ¬
â”‚   â””â”€â”€ list-nodes.cjs       # èŠ‚ç‚¹åˆ—è¡¨å·¥å…·
â”‚
â”œâ”€â”€ start-prod.sh             # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨è„šæœ¬
â””â”€â”€ organize_project.sh       # é¡¹ç›®æ•´ç†è„šæœ¬
```

### src/ - æºä»£ç ï¼ˆæ ¸å¿ƒï¼‰
```
src/
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ canvas/         # ç”»å¸ƒç»„ä»¶ï¼ˆèŠ‚ç‚¹ç¼–è¾‘å™¨ï¼‰
â”‚   â”œâ”€â”€ node-library/   # èŠ‚ç‚¹åº“é¢æ¿
â”‚   â”œâ”€â”€ properties/     # å±æ€§é¢æ¿
â”‚   â”œâ”€â”€ preview/        # é¢„è§ˆé¢æ¿
â”‚   â”œâ”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ core/               # æ ¸å¿ƒå¼•æ“ï¼ˆæ—  UI ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ engine/        # æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ gpu/           # GPU æ¸²æŸ“ç®¡çº¿
â”‚   â”œâ”€â”€ nodes/         # èŠ‚ç‚¹å®šä¹‰ï¼ˆ87 ç§ï¼‰
â”‚   â”œâ”€â”€ codec/         # å›¾åƒç¼–è§£ç 
â”‚   â””â”€â”€ graph/         # å›¾æ•°æ®ç»“æ„
â”‚
â”œâ”€â”€ store/             # Redux çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ graphSlice.ts      # èŠ‚ç‚¹å›¾çŠ¶æ€
â”‚   â”œâ”€â”€ uiSlice.ts         # UI çŠ¶æ€
â”‚   â”œâ”€â”€ historySlice.ts    # å†å²è®°å½•
â”‚   â””â”€â”€ middleware/        # Redux ä¸­é—´ä»¶
â”‚
â”œâ”€â”€ hooks/             # React Hooks
â”œâ”€â”€ shaders/           # GLSL Shader æ–‡ä»¶
â”œâ”€â”€ i18n/              # å›½é™…åŒ–
â”œâ”€â”€ styles/            # å…¨å±€æ ·å¼
â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
```

### tests/ - å•å…ƒæµ‹è¯•
```
tests/
â”œâ”€â”€ components/        # ç»„ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ CustomEdge.test.tsx
â”‚   â””â”€â”€ PropertiesPanel.preview.test.ts
â”‚
â”œâ”€â”€ engine/            # å¼•æ“æµ‹è¯•
â”‚   â”œâ”€â”€ DirtyTracker.test.ts
â”‚   â””â”€â”€ TopologySorter.test.ts
â”‚
â”œâ”€â”€ gpu/               # GPU æµ‹è¯•
â”‚   â””â”€â”€ gpu-pipeline.test.ts
â”‚
â”œâ”€â”€ hooks/             # Hooks æµ‹è¯•
â”œâ”€â”€ nodes/             # èŠ‚ç‚¹æµ‹è¯•
â””â”€â”€ edge-*.test.ts     # è¾¹ç›¸å…³æµ‹è¯•
```

### e2e/ - E2E æµ‹è¯•
```
e2e/
â”œâ”€â”€ comprehensive.spec.ts      # ç»¼åˆæµ‹è¯•
â”œâ”€â”€ edge-replacement.spec.ts   # è¾¹æ›¿æ¢æµ‹è¯•
â”œâ”€â”€ preview.spec.ts            # é¢„è§ˆæµ‹è¯•
â””â”€â”€ ...                        # å…¶ä»– E2E æµ‹è¯•ï¼ˆ18 ä¸ªï¼‰
```

### public/ - é™æ€èµ„æº
```
public/
â”œâ”€â”€ fonts/              # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ templates/          # é¡¹ç›®æ¨¡æ¿
â””â”€â”€ test-image.jpg      # æµ‹è¯•å›¾ç‰‡
```

## ğŸ“‹ æ–‡ä»¶åˆ†ç±»è§„åˆ™

### 1. è®¾è®¡æ–‡æ¡£ â†’ `docs/design/`
- äº§å“è®¾è®¡æ–‡æ¡£
- æ¶æ„è®¾è®¡æ–‡æ¡£
- API è®¾è®¡æ–‡æ¡£

### 2. æµ‹è¯•æŠ¥å‘Š â†’ `docs/test-reports/`
- æµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•ç»“æœ
- æµ‹è¯•æŠ¥å‘Š
- åŠŸèƒ½æµ‹è¯•è¯´æ˜

### 3. è°ƒè¯•è„šæœ¬ â†’ `scripts/debug/`
- ä»¥ `debug-` å¼€å¤´çš„è„šæœ¬
- é¢œè‰²æµ‹è¯•è„šæœ¬
- ä¸´æ—¶è°ƒè¯•å·¥å…·

### 4. æµ‹è¯•è¾…åŠ© â†’ `scripts/test-helpers/`
- ä»¥ `test-` å¼€å¤´çš„è„šæœ¬
- ä»¥ `check-` å¼€å¤´çš„è„šæœ¬
- èŠ‚ç‚¹åˆ—è¡¨ç­‰å·¥å…·è„šæœ¬

### 5. é…ç½®æ–‡ä»¶ â†’ æ ¹ç›®å½•
- `package.json`
- `tsconfig.json`
- `vite.config.ts`
- `playwright.config.ts`
- `.eslintrc.cjs`
- ç­‰é…ç½®æ–‡ä»¶

### 6. æºä»£ç  â†’ `src/`
- æ‰€æœ‰ TypeScript/React ä»£ç 
- Shader æ–‡ä»¶
- æ ·å¼æ–‡ä»¶

### 7. æµ‹è¯•ä»£ç 
- å•å…ƒæµ‹è¯• â†’ `tests/`
- E2E æµ‹è¯• â†’ `e2e/`

## ğŸ—‚ï¸ æ–‡ä»¶å‘½åè§„èŒƒ

### ç»„ä»¶æ–‡ä»¶
- å¤§é©¼å³°å‘½åï¼š`CustomEdge.tsx`, `NodeCanvas.tsx`
- æµ‹è¯•æ–‡ä»¶ï¼š`CustomEdge.test.tsx`

### å·¥å…·æ–‡ä»¶
- å°é©¼å³°å‘½åï¼š`debounce.ts`, `graphSlice.ts`

### è„šæœ¬æ–‡ä»¶
- kebab-caseï¼š`debug-connect.cjs`, `test-51-cases.cjs`

### æ–‡æ¡£æ–‡ä»¶
- SCREAMING_SNAKE_CASEï¼ˆæµ‹è¯•æŠ¥å‘Šï¼‰ï¼š`TEST_CASES.md`
- kebab-caseï¼ˆè®¾è®¡æ–‡æ¡£ï¼‰ï¼š`node-base.md`

## ğŸ¯ æ•´ç†æ•ˆæœ

### æ•´ç†å‰
```
æ ¹ç›®å½•: 70+ ä¸ªè„šæœ¬å’Œæ–‡æ¡£æ–‡ä»¶æ··ä¹±å †ç§¯
```

### æ•´ç†å
```
æ ¹ç›®å½•: ä»…é…ç½®æ–‡ä»¶ + README.md
docs/: 7 ä¸ªæ–‡æ¡£ï¼Œåˆ†ç±»æ¸…æ™°
scripts/: 76 ä¸ªè„šæœ¬ï¼ŒæŒ‰ç”¨é€”åˆ†ç±»
```

### å¥½å¤„
1. âœ… æ ¹ç›®å½•æ¸…çˆ½ï¼Œåªæœ‰æ ¸å¿ƒé…ç½®
2. âœ… æ–‡æ¡£é›†ä¸­ç®¡ç†ï¼Œä¾¿äºæŸ¥æ‰¾
3. âœ… è„šæœ¬åˆ†ç±»å­˜æ”¾ï¼ŒèŒè´£æ¸…æ™°
4. âœ… ç¬¦åˆä¸šç•Œæœ€ä½³å®è·µ
5. âœ… ä¾¿äºæ–°æˆå‘˜ç†è§£é¡¹ç›®ç»“æ„

## ğŸ”„ å¦‚ä½•ä½¿ç”¨æ•´ç†è„šæœ¬

å¦‚æœå°†æ¥æœ‰æ–°çš„è°ƒè¯•è„šæœ¬æˆ–æ–‡æ¡£éœ€è¦æ•´ç†ï¼š

```bash
# è¿è¡Œæ•´ç†è„šæœ¬
bash scripts/organize_project.sh

# æˆ–æ‰‹åŠ¨ç§»åŠ¨
mv debug-xxx.cjs scripts/debug/
mv test-xxx.cjs scripts/test-helpers/
mv XXX_TEST.md docs/test-reports/
mv xxx-design.md docs/design/
```

## ğŸ“Š ç›®å½•ç»Ÿè®¡

| ç›®å½• | æ–‡ä»¶æ•° | è¯´æ˜ |
|------|--------|------|
| `src/` | ~87 ä¸ª | æºä»£ç æ–‡ä»¶ |
| `tests/` | ~10 ä¸ª | å•å…ƒæµ‹è¯•æ–‡ä»¶ |
| `e2e/` | ~18 ä¸ª | E2E æµ‹è¯•æ–‡ä»¶ |
| `docs/design/` | 1 ä¸ª | è®¾è®¡æ–‡æ¡£ |
| `docs/test-reports/` | 6 ä¸ª | æµ‹è¯•æŠ¥å‘Š |
| `scripts/debug/` | ~40 ä¸ª | è°ƒè¯•è„šæœ¬ |
| `scripts/test-helpers/` | ~36 ä¸ª | æµ‹è¯•è¾…åŠ©è„šæœ¬ |

## ğŸŒŸ æœ€ä½³å®è·µ

1. **ä¿æŒæ ¹ç›®å½•æ•´æ´**ï¼šåªæ”¾é…ç½®æ–‡ä»¶å’Œ README
2. **æ–‡æ¡£é›†ä¸­ç®¡ç†**ï¼šæ‰€æœ‰ .md æ–‡ä»¶æ”¾åœ¨ `docs/`
3. **è„šæœ¬åˆ†ç±»å­˜æ”¾**ï¼šæŒ‰ç”¨é€”æ”¾åœ¨ `scripts/` å­ç›®å½•
4. **æºç æ¨¡å—åŒ–**ï¼š`src/` æŒ‰åŠŸèƒ½åˆ†å±‚ç»„ç»‡
5. **æµ‹è¯•å°±è¿‘åŸåˆ™**ï¼šå•å…ƒæµ‹è¯•åœ¨ `tests/`ï¼ŒE2E åœ¨ `e2e/`

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [README.md](../README.md) - é¡¹ç›®æ€»è§ˆ
- [äº§å“è®¾è®¡æ–‡æ¡£](design/node-base.md) - è¯¦ç»†è®¾è®¡
- [æµ‹è¯•ç”¨ä¾‹](test-reports/TEST_CASES.md) - æµ‹è¯•è¯´æ˜
